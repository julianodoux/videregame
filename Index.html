<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Sistema de Vendas - Sorvetes</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f1f5f9;
        padding: 20px;
        margin: 0;
    }

    .category-btn {
        width: 100%;
        background: #007bff;
        color: white;
        padding: 18px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        margin-bottom: 10px;
        text-align: left;
    }

    .category-content {
        display: none;
        background: white;
        padding: 15px;
        border-radius: 12px;
        margin-bottom: 20px;
        border: 1px solid #d1d5db;
    }

    .item {
        display: flex;
        flex-direction: column;
        margin-bottom: 18px;
        padding-bottom: 12px;
        border-bottom: 1px solid #ddd;
    }

    .item-title {
        font-size: 17px;
        font-weight: bold;
        margin-bottom: 8px;
    }

    .controls {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .btn {
        width: 45px;
        height: 45px;
        font-size: 22px;
        border: none;
        border-radius: 8px;
        background: #e5e7eb;
    }

    .number-input {
        width: 70px;
        padding: 10px;
        font-size: 18px;
        text-align: center;
        border-radius: 8px;
        border: 1px solid #ccc;
        background: #f9fafb;
    }

    .estoque-input {
        width: 90px;
        padding: 10px;
        font-size: 16px;
        margin-top: 8px;
        text-align: center;
        border-radius: 8px;
        border: 1px solid #999;
        background: #fff8dc;
    }

    #totalGeral {
        background: #16a34a;
        padding: 18px;
        margin-top: 20px;
        border-radius: 12px;
        color: white;
        font-size: 22px;
        font-weight: bold;
        text-align: center;
    }
</style>

</head>
<body>

<h2 style="text-align:center;">ðŸ“Š Sistema de Vendas de Sorvetes</h2>

<!-- CATEGORIAS E ITENS (gerados via JS) -->
<div id="container"></div>

<div id="totalGeral">Total vendido: 0</div>

<script>
const categorias = {
    "PicolÃ©": [
        "Branco c/ Chocolate", "Chocolate", "Coco", "Napolitano",
        "Uva", "Morango", "MaracujÃ¡", "Abacaxi", "Tutti-Frutti"
    ],
    "Massinha": [
        "Ninho c/ Morango", "Ninho c/ Nutella", "Ninho c/ Chocolate",
        "Ouro Branco", "Charge", "Cajuzinho", "PrestÃ­gio"
    ],
    "Casquinha": [
        "Chocolate", "Baunilha", "Misto", "Morango"
    ],
    "Milkshake": [
        "Chocolate", "Morango", "Baunilha", "Ovomaltine", "Nescau"
    ],
    "AÃ§aÃ­": [
        "300ml", "500ml", "700ml", "1 Litro"
    ],
    "Deluxe": [
        "Ninho com Nutella", "Ferrero", "KitKat", "Churros Especial"
    ]
};

function gerarSistema() {
    const container = document.getElementById("container");

    for (let categoria in categorias) {

        // BotÃ£o da categoria
        const btn = document.createElement("button");
        btn.className = "category-btn";
        btn.innerText = categoria;

        // ConteÃºdo da categoria
        const content = document.createElement("div");
        content.className = "category-content";

        categorias[categoria].forEach(item => {
            
            const div = document.createElement("div");
            div.className = "item";

            div.innerHTML = `
                <div class="item-title">${item}</div>

                <label>Estoque:</label>
                <input type="number" class="estoque-input" id="estoque-${categoria}-${item}" value="0">

                <div class="controls">
                    <button class="btn" onclick="alterar('${categoria}','${item}',-1)">-</button>
                    <input type="number" id="venda-${categoria}-${item}" class="number-input" value="0" readonly>
                    <button class="btn" onclick="alterar('${categoria}','${item}',1)">+</button>
                </div>
            `;

            content.appendChild(div);
        });

        // Expande e recolhe
        btn.addEventListener("click", () => {
            content.style.display = content.style.display === "block" ? "none" : "block";
        });

        container.appendChild(btn);
        container.appendChild(content);
    }
}

function alterar(cat, item, valor) {
    const campo = document.getElementById(`venda-${cat}-${item}`);
    let atual = parseInt(campo.value);

    const estoque = document.getElementById(`estoque-${cat}-${item}`);
    let est = parseInt(estoque.value);

    if (valor === 1 && atual >= est) {
        alert("âš ï¸ Estoque insuficiente!");
        return;
    }

    if (atual + valor >= 0) {
        campo.value = atual + valor;
        atualizarTotal();
    }
}

function atualizarTotal() {
    let total = 0;

    document.querySelectorAll('.number-input').forEach(input => {
        total += parseInt(input.value);
    });

    document.getElementById("totalGeral").innerText =
        `Total vendido: ${total}`;
}

gerarSistema();
</script>

</body>
</html>