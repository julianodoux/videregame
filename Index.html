<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controle de Sorvetes</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f2f2;
        margin: 0;
        padding: 15px;
    }

    h2 {
        text-align: center;
        margin-bottom: 15px;
    }

    .tabs {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 15px;
    }

    .tab-btn {
        flex: 1;
        padding: 12px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 15px;
    }

    .tab-btn.active {
        background: #004c9e;
    }

    .category {
        display: none;
    }

    .item {
        background: white;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 15px;
        font-size: 18px;
    }

    .label {
        font-size: 14px;
        color: #555;
        margin-top: 8px;
        margin-bottom: 3px;
        font-weight: bold;
    }

    .controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 10px;
    }

    button {
        padding: 8px 15px;
        font-size: 18px;
        border: none;
        border-radius: 6px;
        color: white;
    }

    .minus { background: #d9534f; }
    .plus { background: #5cb85c; }

    .stock, .sold {
        font-size: 18px;
        font-weight: bold;
    }

    .out {
        color: red;
    }

    #totais {
        background: white;
        padding: 15px;
        font-size: 20px;
        border-radius: 10px;
        margin-top: 25px;
        text-align: center;
    }
</style>

</head>
<body>

<h2>Controle de Sorvetes üç¶</h2>

<div class="tabs">
    <button class="tab-btn active" onclick="openTab('paletas')">Paletas</button>
    <button class="tab-btn" onclick="openTab('aoLeite')">Ao Leite</button>
    <button class="tab-btn" onclick="openTab('tropical')">Tropical</button>
    <button class="tab-btn" onclick="openTab('especial')">Especial</button>
    <button class="tab-btn" onclick="openTab('lanc')">Lan√ßamentos</button>
</div>

<!-- ========================= CATEGORIA TEMPLATE ========================= -->
<script>
const precos = {
    paletas: 18,
    aoLeite: 8,
    tropical: 6,
    especial: 13,
    pistache: 16,
    unicornio: 10
};

let totalVendidoReais = 0;
let totalUnidadesVendidas = 0;

function add(btn) {
    let span = btn.parentElement.querySelector("span");
    span.textContent = Number(span.textContent) + 1;
    span.classList.remove("out");
}

function vender(btn, preco) {
    let estoque = btn.parentElement.querySelector(".stock");
    let vendidos = btn.parentElement.querySelector(".sold");

    let qtdEstoque = Number(estoque.textContent);

    if (qtdEstoque > 0) {
        estoque.textContent = qtdEstoque - 1;
        vendidos.textContent = Number(vendidos.textContent) + 1;

        totalUnidadesVendidas++;
        totalVendidoReais += preco;
        atualizarTotal();

        if (qtdEstoque - 1 === 0) estoque.classList.add("out");
    }
}

function desfazerVenda(btn, preco) {
    let estoque = btn.parentElement.querySelector(".stock");
    let vendidos = btn.parentElement.querySelector(".sold");

    let qtdVendidos = Number(vendidos.textContent);

    if (qtdVendidos > 0) {
        vendidos.textContent = qtdVendidos - 1;
        estoque.textContent = Number(estoque.textContent) + 1;

        totalUnidadesVendidas--;
        totalVendidoReais -= preco;

        atualizarTotal();

        estoque.classList.remove("out");
    }
}

function atualizarTotal() {
    document.getElementById("totais").innerHTML =
        "Total vendido: <b>" + totalUnidadesVendidas + " itens</b><br>R$ " + 
        totalVendidoReais.toFixed(2).replace(".", ",");
}

function openTab(tab) {
    document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
    event.target.classList.add("active");

    document.querySelectorAll(".category").forEach(c => c.style.display = "none");
    document.getElementById(tab).style.display = "block";
}
</script>

<!-- ========================= PALETAS ========================= -->
<div id="paletas" class="category" style="display:block;">

<h3>Paletas Frutiver√£o ‚Äî R$ 18,00</h3>

<script>
const paletas = [
"Raffaello", "Oreo", "Ferrero", "Kinder Ovo",
"Kinder Bueno", "M&M", "Choco Maltine"
];
</script>

<script>
document.write(paletas.map(sabor => `
<div class="item">
    <b>${sabor}</b>

    <div class="label">Estoque</div>
    <div class="controls">
        <button class="minus" onclick="vender(this,18)">‚Äì</button>
        <span class="stock">0</span>
        <button class="plus" onclick="add(this)">+</button>
    </div>

    <div class="label">Vendidos</div>
    <div class="controls">
        <button class="minus" onclick="desfazerVenda(this,18)">‚Äì</button>
        <span class="sold">0</span>
        <button class="plus" onclick="vender(this,18)">+</button>
    </div>
</div>
`).join(""));
</script>

</div>

<!-- ========================= AO LEITE ========================= -->
<div id="aoLeite" class="category">

<h3>Ao Leite ‚Äî R$ 8,00</h3>

<script>
const aoLeite = ["Morango", "Chocolate", "Leite Condensado"];
</script>

<script>
document.write(aoLeite.map(sabor => `
<div class="item">
    <b>${sabor}</b>

    <div class="label">Estoque</div>
    <div class="controls">
        <button class="minus" onclick="vender(this,8)">‚Äì</button>
        <span class="stock">0</span>
        <button class="plus" onclick="add(this)">+</button>
    </div>

    <div class="label">Vendidos</div>
    <div class="controls">
        <button class="minus" onclick="desfazerVenda(this,8)">‚Äì</button>
        <span class="sold">0</span>
        <button class="plus" onclick="vender(this,8)">+</button>
    </div>
</div>
`).join(""));
</script>

</div>

<!-- ========================= TROPICAL ========================= -->
<div id="tropical" class="category">

<h3>Tropical ‚Äî R$ 6,00</h3>

<script>
const tropical = ["Uva", "Lim√£o"];
</script>

<script>
document.write(tropical.map(sabor => `
<div class="item">
    <b>${sabor}</b>

    <div class="label">Estoque</div>
    <div class="controls">
        <button class="minus" onclick="vender(this,6)">‚Äì</button>
        <span class="stock">0</span>
        <button class="plus" onclick="add(this)">+</button>
    </div>

    <div class="label">Vendidos</div>
    <div class="controls">
        <button class="minus" onclick="desfazerVenda(this,6)">‚Äì</button>
        <span class="sold">0</span>
        <button class="plus" onclick="vender(this,6)">+</button>
    </div>
</div>
`).join(""));
</script>

</div>

<!-- ========================= ESPECIAL ========================= -->
<div id="especial" class="category">

<h3>Especial ‚Äî R$ 13,00</h3>

<script>
const especial = ["Skimo Morango", "Milk Trufado", "Frutiblito", "Sunday"];
</script>

<script>
document.write(especial.map(sabor => `
<div class="item">
    <b>${sabor}</b>

    <div class="label">Estoque</div>
    <div class="controls">
        <button class="minus" onclick="vender(this,13)">‚Äì</button>
        <span class="stock">0</span>
        <button class="plus" onclick="add(this)">+</button>
    </div>

    <div class="label">Vendidos</div>
    <div class="controls">
        <button class="minus" onclick="desfazerVenda(this,13)">‚Äì</button>
        <span class="sold">0</span>
        <button class="plus" onclick="vender(this,13)">+</button>
    </div>
</div>
`). join(""));
</script>

</div>

<!-- ========================= LAN√áAMENTOS ========================= -->
<div id="lanc" class="category">

<h3>Lan√ßamentos</h3>

<script>
const lanc = [
    { nome: "Pistache", preco: 16 },
    { nome: "Unic√≥rnio", preco: 10 }
];
</script>

<script>
document.write(lanc.map(item => `
<div class="item">
    <b>${item.nome} ‚Äî R$ ${item.preco},00</b>

    <div class="label">Estoque</div>
    <div class="controls">
        <button class="minus" onclick="vender(this,${item.preco})">‚Äì</button>
        <span class="stock">0</span>
        <button class="plus" onclick="add(this)">+</button>
    </div>

    <div class="label">Vendidos</div>
    <div class="controls">
        <button class="minus" onclick="desfazerVenda(this,${item.preco})">‚Äì</button>
        <span class="sold">0</span>
        <button class="plus" onclick="vender(this,${item.preco})">+</button>
    </div>
</div>
`).join(""));
</script>

</div>

<div id="totais">
Total vendido: <b>0 itens</b><br>
R$ 0,00
</div>

</body>
</html>